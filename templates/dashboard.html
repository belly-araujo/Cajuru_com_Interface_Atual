{% extends 'base.html' %}
{% block title %}Dashboard ‚Ä¢ IoT Ponto{% endblock %}
{% block breadcrumb %}Home / Dashboard{% endblock %}

{% block content %}
  <div class="grid md:grid-cols-4 gap-4 mb-6">
    <div class="p-4 bg-white border rounded-2xl">
      <div class="text-xs text-gray-500">Volunt√°rios ativos</div>
      <div class="text-2xl font-semibold">{{ voluntarios_ativos or 0 }}</div>
    </div>

    <div class="p-4 bg-white border rounded-2xl">
      <div class="text-xs text-gray-500">A√ß√µes hoje</div>
      <div class="text-2xl font-semibold">{{ presencas_hoje or 0 }}</div>
    </div>

    <div class="p-4 bg-white border rounded-2xl">
      <div class="text-xs text-gray-500">Dispositivos online</div>
      <div class="text-2xl font-semibold">{{ dispositivos_online or 0 }}</div>
    </div>

    <div class="p-4 bg-white border rounded-2xl">
      <div class="text-xs text-gray-500">Usu√°rio</div>
      <div class="text-sm">{{ current_user.nome }} ‚Ä¢ {{ current_user.email }}</div>
    </div>
{% if aniversariantes %}
<div id="aniversario-modal"
     class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50">
  <div class="bg-gradient-to-br from-pink-500 via-purple-500 to-indigo-500 text-white rounded-3xl shadow-2xl p-10 w-[500px] text-center relative animate-pop">

    <!-- Bot√£o de fechar -->
    <button onclick="fecharModal()"
            class="absolute top-4 right-5 text-white text-3xl font-bold hover:scale-110 transition">
      &times;
    </button>

    <!-- √çcone e t√≠tulo -->
    <div class="text-6xl mb-3 animate-bounce">üéâ</div>
    <h2 class="text-3xl font-extrabold mb-4 drop-shadow-lg">Hoje √© dia de comemorar!</h2>

    <!-- Lista de aniversariantes -->
    <div class="bg-white bg-opacity-20 rounded-xl p-4 text-lg">
      {% for p in aniversariantes %}
        <p class="mb-2">üéÇ <strong>{{ p.nome }} {{ p.sobrenome }}</strong> est√° fazendo anivers√°rio!</p>
      {% endfor %}
    </div>

    <p class="mt-4 text-sm opacity-80">Deseje um feliz anivers√°rio! üíê</p>
  </div>
</div>

<!-- Estilos e anima√ß√µes -->
<style>
@keyframes pop {
  0% { transform: scale(0.8); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}
.animate-pop {
  animation: pop 0.4s ease-out;
}
</style>

<!-- Script -->
<script>
function fecharModal() {
  document.getElementById('aniversario-modal').style.display = 'none';
}
// Fecha automaticamente depois de 10 segundos
setTimeout(fecharModal, 10000);
</script>
{% endif %}


  </div>

{% endblock %}
